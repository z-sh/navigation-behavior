<Events startTimestamp="1574377947379" logVersion="0.11.0.201504031625" osName="Windows 10" osVersion="10.0" lineSeparator="\r\n" numMonitors="1" monitorBounds="[0, 0, 1920, 1080]">
  <Command __id="0" _type="ShellBoundsCommand" bounds="[-8, -8, 1936, 1056]" timestamp="5" />
  <Command __id="1" _type="FileOpenCommand" docASTNodeCount="260" docActiveCodeLength="2374" docExpressionCount="151" docLength="3681" projectName="MineSweeper" timestamp="21">
    <filePath><![CDATA[C:\Users\Eye-tracking\git\MineSweeper-Experiment\src\logic\MineSweeper.java]]></filePath>
    <snapshot><![CDATA[/*
BUG REPORT #1
When you start the MineSweeper program, if you click on the New Game button, it will crash.
*/

package logic;
import javax.swing.JOptionPane;
import javax.swing.UIManager;

import presentation.CustomMenu;
import presentation.MineSweeperGui;

/**
 * Main launcher class for MineSweeper, containing all the menus and general
 * prompts
 *
 * @author  KnightMiner
 */

public class MineSweeper {
    // currently running instance of the game
    private static MineSweeperGui gui;

    /**
     * Primary way to boot the game
     * @param args  Default args (unused)
     */
    
    public static void main(String[] args) {
        // High DPI stuff
        try {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
        }
        catch(Exception e) {
            e.printStackTrace();
        }

        // load the help panels
        // this has a side effect of loading the icons for the pieces
        Help.load();

        // start the game on easy
        newGame(Difficulty.EASY);
    }

    /**
     * Creates a new MineSweeper game with one of three default sizes or custom
     * @param difficulty Game difficulty
     */
    
    public static void newGame(Difficulty difficulty) {
        // difficulty switch
        MineSweeperBoard board = null;
        switch(difficulty) {
            case EASY:
                board = new MineSweeperBoard(9, 9, 10, 0);
                break;
            case NORMAL:
                board = new MineSweeperBoard(16, 16, 40, 1);
                break;
            case HARD:
                board = new MineSweeperBoard(30, 16, 99, 3);
                break;
            case CUSTOM:
                board = customGame();
                break;
        }

        startGame(board);
    }

    /**
     * Creates a new game with the custom size
     * @return  A board of the custom size
     */
    
    public static MineSweeperBoard customGame() {
        CustomMenu menu = new CustomMenu();

        int result = JOptionPane.showConfirmDialog(null, menu,
                "Custom", JOptionPane.OK_CANCEL_OPTION,
                JOptionPane.PLAIN_MESSAGE);

        // if they pressed OK
        if(result == JOptionPane.OK_OPTION) {
            return menu.createBoard();
        }
        else {
            return null;
        }
    }

    /**
     * Starts a new game with the specified board
     * @param board  Game board to start
     */
    
    public static void startGame(MineSweeperBoard board) {
        // must be a valid board
        if(board != null) {
            // remove the current gui and define the new one
            if(gui != null) {
                gui.dispose();
            }

            // create a new instance
            gui = new MineSweeperGui(board);
        }
    }

    /**
     * List of buttons for the GUI
     */
    
    public enum Difficulty {
        /** Easy game */
        EASY("Easy"),
        /** Normal game */
        NORMAL("Normal"),
        /** Hard game */
        HARD("Expert"),
        /** Custom size and mines from the GUI */
        CUSTOM("Custom");

        // data
        private String label;

        /**
         * Default constructor
         * @param  Button label
         */
        
        Difficulty(String label) {
            this.label = label;
        }

        /**
         * Gets the label for the difficulty
         * @return  Difficulty name
         */
        
        public String getLabel() {
            return label;
        }
    }
}
]]></snapshot>
  </Command>
  <Command __id="2" _type="SelectTextCommand" caretOffset="223" docEnd="427" docOffset="427" docStart="416" end="223" start="212" timestamp="370" />
  <Command __id="3" _type="MoveCaretCommand" caretOffset="197" docOffset="401" timestamp="63402" />
  <Command __id="4" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="79832" type="Run" />
  <Command __id="5" _type="MoveCaretCommand" caretOffset="13" docOffset="17" timestamp="106145" />
  <Command __id="6" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="113151" type="Run" />
  <Command __id="7" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="114119" type="Run" />
  <Command __id="8" _type="MoveCaretCommand" caretOffset="633" docOffset="736" timestamp="141777" />
  <Command __id="9" _type="MoveCaretCommand" caretOffset="905" docOffset="1008" timestamp="153944" />
  <Command __id="11" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1008" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="158587" wrapSearch="true">
    <searchString><![CDATA[updateCheat]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="12" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1008" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="160688" wrapSearch="true">
    <searchString><![CDATA[updateCheat]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="13" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1008" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="161120" wrapSearch="true">
    <searchString><![CDATA[updateCheat]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="14" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1008" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="161465" wrapSearch="true">
    <searchString><![CDATA[updateCheat]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="15" _type="MoveCaretCommand" caretOffset="3281" docOffset="3384" timestamp="190304" />
  <Command __id="16" _type="MoveCaretCommand" caretOffset="2869" docOffset="2972" timestamp="195177" />
  <Command __id="18" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="2972" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="197034" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="19" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1056" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="203075" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="20" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1262" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="203547" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="21" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1444" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="204219" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="22" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1554" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="204643" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="23" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1664" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="204924" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="24" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1890" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="216628" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="25" _type="MoveCaretCommand" caretOffset="2309" docOffset="2412" timestamp="218049" />
  <DocumentChange __id="26" _type="Insert" docASTNodeCount="260" docActiveCodeLength="2375" docExpressionCount="151" docLength="3696" length="15" offset="2412" repeat="15" timestamp="218852" timestamp2="221220">
    <text><![CDATA[ //Possible bug]]></text>
  </DocumentChange>
  <Command __id="27" _type="InsertStringCommand" repeat="15" timestamp="218858" timestamp2="221223">
    <data><![CDATA[ //Possible bug]]></data>
  </Command>
  <Command __id="56" _type="MoveCaretCommand" caretOffset="2216" docOffset="2319" timestamp="222089" />
  <Command __id="58" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="2319" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="226814" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="59" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="2477" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="251277" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="60" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="2745" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="251572" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="61" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="2858" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="251948" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="62" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1056" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="252456" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="63" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="1262" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="252971" wrapSearch="true">
    <searchString><![CDATA[new]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="64" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="276865" type="Run" />
  <Command __id="65" _type="MoveCaretCommand" caretOffset="2248" docOffset="2351" timestamp="288736" />
  <Command __id="67" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="2351" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="292213" wrapSearch="true">
    <searchString><![CDATA[customGame()]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="68" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="316023" type="Run" />
  <Command __id="69" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="318471" type="Run" />
  <Command __id="70" _type="MoveCaretCommand" caretOffset="3050" docOffset="3153" timestamp="318600" />
  <Command __id="72" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="3153" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="320706" wrapSearch="true">
    <searchString><![CDATA[New game]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="73" _type="FindCommand" caseSensitive="true" forward="true" matchWord="false" offset="3153" regexp="false" replaceAll="false" selection="Find" selectionScope="false" timestamp="321169" wrapSearch="true">
    <searchString><![CDATA[New game]]></searchString>
    <replaceString><![CDATA[]]></replaceString>
  </Command>
  <Command __id="74" _type="MoveCaretCommand" caretOffset="730" docOffset="833" timestamp="350520" />
  <DocumentChange __id="75" _type="Insert" docASTNodeCount="260" docActiveCodeLength="2386" docExpressionCount="151" docLength="3707" length="11" offset="833" timestamp="351177">
    <text><![CDATA[
        	]]></text>
  </DocumentChange>
  <Command __id="76" _type="InsertStringCommand" timestamp="351183">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="77" _type="Insert" docASTNodeCount="266" docActiveCodeLength="2394" docExpressionCount="154" docLength="3715" length="8" offset="844" repeat="8" timestamp="351423" timestamp2="352480">
    <text><![CDATA[Systme.o]]></text>
  </DocumentChange>
  <Command __id="78" _type="InsertStringCommand" repeat="7" timestamp="351426" timestamp2="352016">
    <data><![CDATA[Systme.]]></data>
  </Command>
  <Command __id="91" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="352069" />
  <Command __id="92" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="352133" />
  <Command __id="94" _type="InsertStringCommand" timestamp="352482">
    <data><![CDATA[o]]></data>
  </Command>
  <DocumentChange __id="95" _type="Delete" docASTNodeCount="264" docActiveCodeLength="2391" docExpressionCount="152" docLength="3712" endLine="34" length="3" offset="849" repeat="3" startLine="34" timestamp="352673" timestamp2="353002">
    <text><![CDATA[e.o]]></text>
  </DocumentChange>
  <Command __id="96" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="3" timestamp="352677" timestamp2="353004" />
  <DocumentChange __id="101" _type="Insert" docASTNodeCount="264" docActiveCodeLength="2392" docExpressionCount="152" docLength="3713" length="1" offset="849" timestamp="353074">
    <text><![CDATA[e]]></text>
  </DocumentChange>
  <Command __id="102" _type="InsertStringCommand" timestamp="353077">
    <data><![CDATA[e]]></data>
  </Command>
  <DocumentChange __id="103" _type="Delete" docASTNodeCount="264" docActiveCodeLength="2390" docExpressionCount="152" docLength="3711" endLine="34" length="2" offset="848" repeat="2" startLine="34" timestamp="353243" timestamp2="353362">
    <text><![CDATA[me]]></text>
  </DocumentChange>
  <Command __id="104" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="2" timestamp="353245" timestamp2="353363" />
  <DocumentChange __id="107" _type="Insert" docASTNodeCount="267" docActiveCodeLength="2418" docExpressionCount="157" docLength="3739" length="28" offset="848" repeat="26" timestamp="353441" timestamp2="358276">
    <text><![CDATA[em.out.println("Checking t")]]></text>
  </DocumentChange>
  <Command __id="108" _type="InsertStringCommand" repeat="3" timestamp="353447" timestamp2="353740">
    <data><![CDATA[em.]]></data>
  </Command>
  <Command __id="113" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="353741" />
  <Command __id="117" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="354266" />
  <Command __id="119" _type="InsertStringCommand" timestamp="354274">
    <data><![CDATA[.]]></data>
  </Command>
  <Command __id="120" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="354275" />
  <Command __id="130" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="355777" />
  <Command __id="132" _type="InsertStringCommand" repeat="10" timestamp="356263" timestamp2="358277">
    <data><![CDATA[Checking t]]></data>
  </Command>
  <DocumentChange __id="151" _type="Delete" docASTNodeCount="267" docActiveCodeLength="2417" docExpressionCount="157" docLength="3738" endLine="34" length="1" offset="873" startLine="34" timestamp="358498">
    <text><![CDATA[t]]></text>
  </DocumentChange>
  <Command __id="152" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="358499" />
  <DocumentChange __id="153" _type="Insert" docASTNodeCount="267" docActiveCodeLength="2422" docExpressionCount="157" docLength="3743" length="5" offset="873" repeat="5" timestamp="358648" timestamp2="358984">
    <text><![CDATA[enter]]></text>
  </DocumentChange>
  <Command __id="154" _type="InsertStringCommand" repeat="5" timestamp="358649" timestamp2="358985">
    <data><![CDATA[enter]]></data>
  </Command>
  <DocumentChange __id="163" _type="Delete" docASTNodeCount="267" docActiveCodeLength="2417" docExpressionCount="157" docLength="3738" endLine="34" length="5" offset="873" repeat="5" startLine="34" timestamp="359628" timestamp2="360091">
    <text><![CDATA[enter]]></text>
  </DocumentChange>
  <Command __id="164" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="5" timestamp="359630" timestamp2="360092" />
  <DocumentChange __id="173" _type="Insert" docASTNodeCount="267" docActiveCodeLength="2421" docExpressionCount="157" docLength="3742" length="4" offset="873" repeat="4" timestamp="360221" timestamp2="360413">
    <text><![CDATA[test]]></text>
  </DocumentChange>
  <Command __id="174" _type="InsertStringCommand" repeat="4" timestamp="360222" timestamp2="360413">
    <data><![CDATA[test]]></data>
  </Command>
  <Command __id="181" _type="MoveCaretCommand" caretOffset="949" docOffset="1052" timestamp="361105" />
  <Command __id="182" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="361785" />
  <Command __id="183" _type="MoveCaretCommand" caretOffset="2611" docOffset="2714" timestamp="382816" />
  <Command __id="184" _type="MoveCaretCommand" caretOffset="2867" docOffset="2970" timestamp="383489" />
  <Command __id="185" _type="SelectTextCommand" caretOffset="2856" docEnd="2959" docOffset="2959" docStart="2927" end="2856" start="2824" timestamp="390536" />
  <Command __id="186" _type="CopyCommand" timestamp="390876" />
  <Command __id="187" _type="MoveCaretCommand" caretOffset="2874" docOffset="2977" timestamp="391080" />
  <Command __id="188" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.LINE_UP" timestamp="392139" />
  <Command __id="189" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_NEXT" repeat="4" timestamp="392427" timestamp2="392836" />
  <DocumentChange __id="193" _type="Insert" docASTNodeCount="267" docActiveCodeLength="2431" docExpressionCount="157" docLength="3752" length="10" offset="2970" timestamp="393158">
    <text><![CDATA[
        ]]></text>
  </DocumentChange>
  <Command __id="194" _type="InsertStringCommand" timestamp="393165">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="195" _type="Insert" docASTNodeCount="267" docActiveCodeLength="2441" docExpressionCount="157" docLength="3762" length="10" offset="2980" timestamp="393363">
    <text><![CDATA[
        ]]></text>
  </DocumentChange>
  <Command __id="196" _type="InsertStringCommand" timestamp="393370">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="197" _type="Insert" docASTNodeCount="267" docActiveCodeLength="2441" docExpressionCount="157" docLength="3762" length="32" offset="2990" timestamp="393553">
    <text><![CDATA[gui = new MineSweeperGui(board);]]></text>
  </DocumentChange>
  <Command __id="198" _type="PasteCommand" timestamp="393557" />
  <Command __id="199" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="393875" />
  <Command __id="200" _type="EclipseCommand" commandID="org.eclipse.debug.ui.commands.RunLast" timestamp="416509" />
  <Command __id="201" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="419281" type="Run" />
  <Command __id="202" _type="RunCommand" exitValue="1" kind="Terminate" projectName="MineSweeper" timestamp="419349" type="Run" />
  <Command __id="203" _type="MoveCaretCommand" caretOffset="821" docOffset="924" timestamp="425024" />
  <Command __id="204" _type="MoveCaretCommand" caretOffset="776" docOffset="879" timestamp="425328" />
  <DocumentChange __id="205" _type="Insert" docASTNodeCount="274" docActiveCodeLength="2474" docExpressionCount="162" docLength="3795" length="1" offset="879" timestamp="426106">
    <text><![CDATA[;]]></text>
  </DocumentChange>
  <Command __id="206" _type="InsertStringCommand" timestamp="426109">
    <data><![CDATA[;]]></data>
  </Command>
  <Command __id="207" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="426379" />
  <Command __id="208" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="428063" type="Run" />
  <Command __id="209" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="435447" type="Run" />
  <Command __id="210" _type="MoveCaretCommand" caretOffset="1172" docOffset="1275" timestamp="435753" />
  <Command __id="211" _type="MoveCaretCommand" caretOffset="1782" docOffset="1885" timestamp="440409" />
  <Command __id="212" _type="MoveCaretCommand" caretOffset="1767" docOffset="1870" timestamp="443896" />
  <DocumentChange __id="213" _type="Insert" docASTNodeCount="277" docActiveCodeLength="2484" docExpressionCount="163" docLength="3805" length="10" offset="1870" repeat="3" timestamp="444635" timestamp2="445267">
    <text><![CDATA[        Ss]]></text>
  </DocumentChange>
  <Command __id="214" _type="InsertStringCommand" repeat="3" timestamp="444636" timestamp2="445270">
    <data><![CDATA[	Ss]]></data>
  </Command>
  <DocumentChange __id="219" _type="Delete" docASTNodeCount="277" docActiveCodeLength="2483" docExpressionCount="163" docLength="3804" endLine="68" length="1" offset="1879" startLine="68" timestamp="445506">
    <text><![CDATA[s]]></text>
  </DocumentChange>
  <Command __id="220" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="445507" />
  <DocumentChange __id="221" _type="Insert" docASTNodeCount="281" docActiveCodeLength="2517" docExpressionCount="168" docLength="3838" length="34" offset="1879" repeat="32" timestamp="445602" timestamp2="449669">
    <text><![CDATA[ystem.out.println("Starting game")]]></text>
  </DocumentChange>
  <Command __id="222" _type="InsertStringCommand" repeat="6" timestamp="445604" timestamp2="446004">
    <data><![CDATA[ystem.]]></data>
  </Command>
  <Command __id="233" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="446005" />
  <Command __id="237" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="446499" />
  <Command __id="239" _type="InsertStringCommand" timestamp="446503">
    <data><![CDATA[.]]></data>
  </Command>
  <Command __id="240" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="446505" />
  <Command __id="250" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="447701" />
  <Command __id="252" _type="InsertStringCommand" repeat="13" timestamp="448621" timestamp2="449670">
    <data><![CDATA[Starting game]]></data>
  </Command>
  <Command __id="277" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="450148" />
  <Command __id="278" _type="MoveCaretCommand" caretOffset="1837" docOffset="1940" timestamp="450801" />
  <Command __id="279" _type="MoveCaretCommand" caretOffset="1810" docOffset="1913" timestamp="451392" />
  <DocumentChange __id="280" _type="Insert" docASTNodeCount="281" docActiveCodeLength="2518" docExpressionCount="168" docLength="3839" length="1" offset="1913" timestamp="452195">
    <text><![CDATA[;]]></text>
  </DocumentChange>
  <Command __id="281" _type="InsertStringCommand" timestamp="452199">
    <data><![CDATA[;]]></data>
  </Command>
  <Command __id="282" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="453043" />
  <Command __id="283" _type="SelectTextCommand" caretOffset="2347" docEnd="2450" docOffset="2450" docStart="2431" end="2347" start="2328" timestamp="464552" />
  <Command __id="284" _type="CopyCommand" timestamp="464739" />
  <Command __id="285" _type="MoveCaretCommand" caretOffset="2397" docOffset="2500" timestamp="465193" />
  <Command __id="286" _type="SelectTextCommand" caretOffset="2399" docEnd="2502" docOffset="2502" docStart="2498" end="2399" start="2395" timestamp="465361" />
  <DocumentChange __id="287" _type="Replace" docASTNodeCount="284" docActiveCodeLength="2533" docExpressionCount="170" docLength="3854" endLine="89" insertionLength="19" int_docASTNodeCount="280" int_docActiveCodeLength="2514" int_docExpressionCount="167" int_docLength="3835" length="4" offset="2498" startLine="89" timestamp="465515">
    <deletedText><![CDATA[null]]></deletedText>
    <insertedText><![CDATA[menu.createBoard();]]></insertedText>
  </DocumentChange>
  <Command __id="288" _type="PasteCommand" timestamp="465521" />
  <DocumentChange __id="289" _type="Replace" docASTNodeCount="281" docActiveCodeLength="2518" docExpressionCount="168" docLength="3839" endLine="89" insertionLength="4" int_docASTNodeCount="280" int_docActiveCodeLength="2514" int_docExpressionCount="167" int_docLength="3835" length="19" offset="2498" startLine="89" timestamp="466059">
    <deletedText><![CDATA[menu.createBoard();]]></deletedText>
    <insertedText><![CDATA[null]]></insertedText>
  </DocumentChange>
  <Command __id="290" _type="UndoCommand" timestamp="466067" />
  <Command __id="291" _type="MoveCaretCommand" caretOffset="2374" docOffset="2477" timestamp="466528" />
  <DocumentChange __id="292" _type="Insert" docASTNodeCount="281" docActiveCodeLength="2529" docExpressionCount="168" docLength="3850" length="11" offset="2477" timestamp="467118">
    <text><![CDATA[
        	]]></text>
  </DocumentChange>
  <Command __id="293" _type="InsertStringCommand" timestamp="467125">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="294" _type="Insert" docASTNodeCount="288" docActiveCodeLength="2553" docExpressionCount="174" docLength="3874" length="24" offset="2488" repeat="22" timestamp="467346" timestamp2="469513">
    <text><![CDATA[System.out.println("UI")]]></text>
  </DocumentChange>
  <Command __id="295" _type="InsertStringCommand" repeat="7" timestamp="467349" timestamp2="467949">
    <data><![CDATA[System.]]></data>
  </Command>
  <Command __id="308" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="467950" />
  <Command __id="312" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="468340" />
  <Command __id="314" _type="InsertStringCommand" timestamp="468345">
    <data><![CDATA[.]]></data>
  </Command>
  <Command __id="315" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="468348" />
  <Command __id="325" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="469307" />
  <Command __id="327" _type="InsertStringCommand" repeat="2" timestamp="469509" timestamp2="469514">
    <data><![CDATA[UI]]></data>
  </Command>
  <DocumentChange __id="330" _type="Delete" docASTNodeCount="288" docActiveCodeLength="2551" docExpressionCount="174" docLength="3872" endLine="89" length="2" offset="2508" repeat="2" startLine="89" timestamp="469793" timestamp2="469930">
    <text><![CDATA[UI]]></text>
  </DocumentChange>
  <Command __id="331" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="2" timestamp="469796" timestamp2="469932" />
  <DocumentChange __id="334" _type="Insert" docASTNodeCount="288" docActiveCodeLength="2556" docExpressionCount="174" docLength="3877" length="5" offset="2508" repeat="5" timestamp="470068" timestamp2="470476">
    <text><![CDATA[ERROR]]></text>
  </DocumentChange>
  <Command __id="335" _type="InsertStringCommand" repeat="5" timestamp="470069" timestamp2="470477">
    <data><![CDATA[ERROR]]></data>
  </Command>
  <Command __id="344" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="471453" />
  <Command __id="345" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_NEXT" repeat="2" timestamp="471866" timestamp2="472025" />
  <DocumentChange __id="347" _type="Insert" docASTNodeCount="288" docActiveCodeLength="2557" docExpressionCount="174" docLength="3878" length="1" offset="2515" timestamp="472719">
    <text><![CDATA[;]]></text>
  </DocumentChange>
  <Command __id="348" _type="InsertStringCommand" timestamp="472723">
    <data><![CDATA[;]]></data>
  </Command>
  <Command __id="349" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="472915" />
  <Command __id="350" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="474294" type="Run" />
  <Command __id="351" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="484091" type="Run" />
  <Command __id="352" _type="MoveCaretCommand" caretOffset="1827" docOffset="1930" timestamp="491448" />
  <Command __id="353" _type="MoveCaretCommand" caretOffset="1305" docOffset="1408" timestamp="524329" />
  <Command __id="354" _type="MoveCaretCommand" caretOffset="1765" docOffset="1868" timestamp="526928" />
  <DocumentChange __id="355" _type="Insert" docASTNodeCount="288" docActiveCodeLength="2567" docExpressionCount="174" docLength="3888" length="10" offset="1868" timestamp="527828">
    <text><![CDATA[
        ]]></text>
  </DocumentChange>
  <Command __id="356" _type="InsertStringCommand" timestamp="527832">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="357" _type="Insert" docASTNodeCount="288" docActiveCodeLength="2577" docExpressionCount="174" docLength="3898" length="10" offset="1878" timestamp="528162">
    <text><![CDATA[
        ]]></text>
  </DocumentChange>
  <Command __id="358" _type="InsertStringCommand" timestamp="528167">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="359" _type="Insert" docASTNodeCount="291" docActiveCodeLength="2579" docExpressionCount="174" docLength="3900" length="2" offset="1888" repeat="2" timestamp="528397" timestamp2="528474">
    <text><![CDATA[ca]]></text>
  </DocumentChange>
  <Command __id="360" _type="InsertStringCommand" repeat="2" timestamp="528400" timestamp2="528481">
    <data><![CDATA[ca]]></data>
  </Command>
  <DocumentChange __id="363" _type="Delete" docASTNodeCount="288" docActiveCodeLength="2577" docExpressionCount="174" docLength="3898" endLine="69" length="2" offset="1888" repeat="2" startLine="69" timestamp="528870" timestamp2="529021">
    <text><![CDATA[ca]]></text>
  </DocumentChange>
  <Command __id="364" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="2" timestamp="528878" timestamp2="529026" />
  <DocumentChange __id="367" _type="Insert" docASTNodeCount="288" docActiveCodeLength="2580" docExpressionCount="174" docLength="3901" length="3" offset="1888" repeat="3" timestamp="530106" timestamp2="530306">
    <text><![CDATA[if ]]></text>
  </DocumentChange>
  <Command __id="368" _type="InsertStringCommand" repeat="3" timestamp="530108" timestamp2="530308">
    <data><![CDATA[if ]]></data>
  </Command>
  <DocumentChange __id="373" _type="Insert" docASTNodeCount="293" docActiveCodeLength="2591" docExpressionCount="177" docLength="3912" length="11" offset="1891" repeat="11" timestamp="535034" timestamp2="536354">
    <text><![CDATA[board == Nu]]></text>
  </DocumentChange>
  <Command __id="374" _type="InsertStringCommand" repeat="11" timestamp="535036" timestamp2="536356">
    <data><![CDATA[board == Nu]]></data>
  </Command>
  <DocumentChange __id="395" _type="Delete" docASTNodeCount="290" docActiveCodeLength="2589" docExpressionCount="176" docLength="3910" endLine="69" length="2" offset="1900" repeat="2" startLine="69" timestamp="536755" timestamp2="536913">
    <text><![CDATA[Nu]]></text>
  </DocumentChange>
  <Command __id="396" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="2" timestamp="536756" timestamp2="536914" />
  <DocumentChange __id="399" _type="Insert" docASTNodeCount="293" docActiveCodeLength="2594" docExpressionCount="177" docLength="3915" length="5" offset="1900" repeat="5" timestamp="537045" timestamp2="537818">
    <text><![CDATA[null ]]></text>
  </DocumentChange>
  <Command __id="400" _type="InsertStringCommand" repeat="5" timestamp="537050" timestamp2="537820">
    <data><![CDATA[null ]]></data>
  </Command>
  <DocumentChange __id="409" _type="Delete" docASTNodeCount="293" docActiveCodeLength="2593" docExpressionCount="177" docLength="3914" endLine="69" length="1" offset="1904" startLine="69" timestamp="539218">
    <text><![CDATA[ ]]></text>
  </DocumentChange>
  <Command __id="410" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="539219" />
  <DocumentChange __id="411" _type="Insert" docASTNodeCount="292" docActiveCodeLength="2594" docExpressionCount="177" docLength="3915" length="1" offset="1904" timestamp="540853">
    <text><![CDATA[{]]></text>
  </DocumentChange>
  <Command __id="412" _type="InsertStringCommand" timestamp="540857">
    <data><![CDATA[{]]></data>
  </Command>
  <DocumentChange __id="413" _type="Insert" docASTNodeCount="293" docActiveCodeLength="2616" docExpressionCount="177" docLength="3937" length="22" offset="1905" timestamp="541197">
    <text><![CDATA[
        	
        }]]></text>
  </DocumentChange>
  <Command __id="414" _type="InsertStringCommand" timestamp="541200">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="415" _type="Insert" docASTNodeCount="301" docActiveCodeLength="2640" docExpressionCount="183" docLength="3961" length="24" offset="1916" repeat="22" timestamp="542586" timestamp2="546728">
    <text><![CDATA[System.out.println("NU")]]></text>
  </DocumentChange>
  <Command __id="416" _type="InsertStringCommand" repeat="7" timestamp="542588" timestamp2="544045">
    <data><![CDATA[System.]]></data>
  </Command>
  <Command __id="429" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="544046" />
  <Command __id="433" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="544650" />
  <Command __id="435" _type="InsertStringCommand" timestamp="544654">
    <data><![CDATA[.]]></data>
  </Command>
  <Command __id="436" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="544656" />
  <Command __id="446" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="545681" />
  <Command __id="448" _type="InsertStringCommand" repeat="2" timestamp="546512" timestamp2="546729">
    <data><![CDATA[NU]]></data>
  </Command>
  <DocumentChange __id="451" _type="Delete" docASTNodeCount="301" docActiveCodeLength="2639" docExpressionCount="183" docLength="3960" endLine="70" length="1" offset="1937" startLine="70" timestamp="547038">
    <text><![CDATA[U]]></text>
  </DocumentChange>
  <Command __id="452" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="547039" />
  <DocumentChange __id="453" _type="Insert" docASTNodeCount="301" docActiveCodeLength="2648" docExpressionCount="183" docLength="3969" length="9" offset="1937" repeat="9" timestamp="547202" timestamp2="548533">
    <text><![CDATA[ull Board]]></text>
  </DocumentChange>
  <Command __id="454" _type="InsertStringCommand" repeat="9" timestamp="547203" timestamp2="548534">
    <data><![CDATA[ull Board]]></data>
  </Command>
  <Command __id="471" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_NEXT" repeat="2" timestamp="549147" timestamp2="549296" />
  <DocumentChange __id="473" _type="Insert" docASTNodeCount="301" docActiveCodeLength="2649" docExpressionCount="183" docLength="3970" length="1" offset="1948" timestamp="549977">
    <text><![CDATA[;]]></text>
  </DocumentChange>
  <Command __id="474" _type="InsertStringCommand" timestamp="549981">
    <data><![CDATA[;]]></data>
  </Command>
  <Command __id="475" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="550200" />
  <Command __id="476" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="552663" type="Run" />
  <Command __id="477" _type="RunCommand" exitValue="1" kind="Terminate" projectName="MineSweeper" timestamp="554102" type="Run" />
  <Command __id="478" _type="MoveCaretCommand" caretOffset="1801" docOffset="1904" timestamp="557656" />
  <DocumentChange __id="479" _type="Insert" docASTNodeCount="300" docActiveCodeLength="2650" docExpressionCount="183" docLength="3971" length="1" offset="1904" timestamp="558436">
    <text><![CDATA[)]]></text>
  </DocumentChange>
  <Command __id="480" _type="InsertStringCommand" timestamp="558439">
    <data><![CDATA[)]]></data>
  </Command>
  <Command __id="481" _type="MoveCaretCommand" caretOffset="1788" docOffset="1891" timestamp="560008" />
  <DocumentChange __id="482" _type="Insert" docASTNodeCount="300" docActiveCodeLength="2651" docExpressionCount="183" docLength="3972" length="1" offset="1891" timestamp="560874">
    <text><![CDATA[(]]></text>
  </DocumentChange>
  <Command __id="483" _type="InsertStringCommand" timestamp="560876">
    <data><![CDATA[(]]></data>
  </Command>
  <Command __id="484" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="564448" type="Run" />
  <Command __id="485" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="581719" type="Run" />
  <Command __id="486" _type="SelectTextCommand" caretOffset="1730" docEnd="1833" docOffset="1833" docStart="1812" end="1730" start="1709" timestamp="597425" />
  <Command __id="487" _type="CopyCommand" timestamp="597619" />
  <Command __id="488" _type="MoveCaretCommand" caretOffset="1804" docOffset="1907" timestamp="598264" />
  <Command __id="489" _type="SelectTextCommand" caretOffset="1815" docEnd="1962" docOffset="1918" docStart="1918" end="1859" start="1815" timestamp="599312" />
  <Command __id="490" _type="MoveCaretCommand" caretOffset="1804" docOffset="1907" timestamp="599840" />
  <Command __id="491" _type="MoveCaretCommand" caretOffset="1848" docOffset="1951" timestamp="600328" />
  <DocumentChange __id="492" _type="Insert" docASTNodeCount="300" docActiveCodeLength="2662" docExpressionCount="183" docLength="3983" length="11" offset="1951" timestamp="600996">
    <text><![CDATA[
        	]]></text>
  </DocumentChange>
  <Command __id="493" _type="InsertStringCommand" timestamp="601003">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="494" _type="Insert" docASTNodeCount="300" docActiveCodeLength="2662" docExpressionCount="183" docLength="3983" length="21" offset="1962" timestamp="601255">
    <text><![CDATA[board = customGame();]]></text>
  </DocumentChange>
  <Command __id="495" _type="PasteCommand" timestamp="601259" />
  <Command __id="496" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="601884" />
  <Command __id="497" _type="MoveCaretCommand" caretOffset="1891" docOffset="1994" timestamp="602512" />
  <DocumentChange __id="498" _type="Insert" docASTNodeCount="305" docActiveCodeLength="2693" docExpressionCount="187" docLength="4014" length="10" offset="1994" timestamp="602772">
    <text><![CDATA[
        ]]></text>
  </DocumentChange>
  <Command __id="499" _type="InsertStringCommand" timestamp="602780">
    <data><![CDATA[]]></data>
  </Command>
  <Command __id="500" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="605039" type="Run" />
  <Command __id="501" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="607808" type="Run" />
  <Command __id="502" _type="FileOpenCommand" docASTNodeCount="1297" docActiveCodeLength="11112" docExpressionCount="863" docLength="13984" projectName="MineSweeper" timestamp="669145">
    <filePath><![CDATA[C:\Users\Eye-tracking\git\MineSweeper-Experiment\src\presentation\MineSweeperGui.java]]></filePath>
    <snapshot><![CDATA[package presentation;
import java.awt.BorderLayout;
import java.awt.Container;
import java.awt.Dimension;
import java.awt.GridLayout;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.event.WindowEvent;
import java.io.File;
import java.net.URL;
import java.util.Queue;

import javax.swing.ImageIcon;
import javax.swing.JButton;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JMenu;
import javax.swing.JMenuBar;
import javax.swing.JMenuItem;
import javax.swing.JOptionPane;
import javax.swing.SwingConstants;

import logic.Help;
import logic.MineSweeper;
import logic.MineSweeperBoard;
import util.Space;

/**
 * Main GUI object for Minesweeper games. Called when gameplay is ready
 *
 * @author  KnightMiner
 */

public class MineSweeperGui extends JFrame implements ActionListener {
    // data
    private MineSweeperBoard board;

    // states
    private boolean isCheating;

    // buttons and labels
    private JLabel mines;
    private MineButton[][] buttons;

    private JButton buttonNewGame;
    private JButton buttonCheat;

    // menus
    private JMenuBar bar;
    private JMenu menuMineSweeper;

    private JMenu menuNewGame;
    private JMenuItem buttonRestart;
    private JMenuItem buttonSave;
    private JMenuItem buttonLoad;
    private JMenuItem buttonExit;

    private JMenu menuHelp;
    private JMenuItem buttonRules;
    private JMenuItem buttonMenu;
    private JMenuItem buttonDifficulty;

    /**
     * Makes a new minesweaper window
     * @param board  Input board, the display will take the size and pieces on the board
     */
    
    public MineSweeperGui(MineSweeperBoard board) {
        this.setTitle("MineSweeper");
        this.board = board;

        // construct the top menu
        bar = new JMenuBar();
        setJMenuBar(bar);

        // miscelanous actions
        menuMineSweeper = new JMenu("MineSweeper");
        bar.add(menuMineSweeper);

        // new game menu
        menuNewGame = new JMenu("New Game");
        menuMineSweeper.add(menuNewGame);

        // add all difficulties
        for(MineSweeper.Difficulty difficulty : MineSweeper.Difficulty.values()) {
            DifficultyButton button = new DifficultyButton(difficulty);
            menuNewGame.add(button);
        }


        // restarts the current game
        buttonRestart = new JMenuItem("Restart");
        buttonRestart.addActionListener(this);
        menuMineSweeper.add(buttonRestart);

        // saves the current game
        buttonSave = new JMenuItem("Save game");
        buttonSave.addActionListener(this);
        menuMineSweeper.add(buttonSave);

        // loads a new game from a file
        buttonLoad = new JMenuItem("Load game");
        buttonLoad.addActionListener(this);
        menuMineSweeper.add(buttonLoad);

        // exits the game
        menuMineSweeper.addSeparator();
        buttonExit = new JMenuItem("Exit");
        buttonExit.addActionListener(this);
        menuMineSweeper.add(buttonExit);

        // help menu
        menuHelp = new JMenu("Help");
        bar.add(menuHelp);

        // shows the rules
        buttonRules = new JMenuItem("Rules");
        buttonRules.addActionListener(this);
        menuHelp.add(buttonRules);

        // shows help about the menu
        buttonMenu = new JMenuItem("Menus");
        buttonMenu.addActionListener(this);
        menuHelp.add(buttonMenu);

        // shows available difficulties
        buttonDifficulty = new JMenuItem("Difficulties");
        buttonDifficulty.addActionListener(this);
        menuHelp.add(buttonDifficulty);


        // GUI Layout

        // gives use four regions and a center
        Container pane = getContentPane();
        pane.setLayout(new BorderLayout());


        // new game with same dimensions
        buttonNewGame = new JButton("New game");
        buttonNewGame.addActionListener(this);

        // remaining mines display
        mines = new JLabel("Mines", SwingConstants.CENTER);
        updateMines();

        // top row of the board
        Container top = new Container();
        top.setLayout(new GridLayout(1, 3));
        top.add(mines);
        top.add(buttonNewGame);


        // cheating, skip if 0 cheats to start
        if(board.canCheat()) {
            buttonCheat = new JButton();
            updateCheat();
            buttonCheat.addActionListener(this);
            top.add(buttonCheat);
        } else {
            top.add(new JLabel(""));
        }

        top.setPreferredSize(new Dimension(20, top.getFontMetrics(buttonNewGame.getFont()).getHeight() * 2));

        pane.add(top, BorderLayout.NORTH);


        // main button grid
        Container minesContainer = new Container();
        int width2 = board.getWidth();
        int height2 = board.getHeight();
        minesContainer.setLayout(new GridLayout(height2, width2));
        buttons = new MineButton[height2][width2];

        // and add them all
        for(int y = 0; y < height2; y++) {
            for(int x = 0; x < width2; x++) {
                // add buttons, and store them
                buttons[y][x] = new MineButton(this, board, new Space(x, y));
                minesContainer.add(buttons[y][x]);
            }
        }

        pane.add(minesContainer, BorderLayout.CENTER);


        // sizes, we need them for the top bar
        int width = board.getWidth() * 40;
        int height = board.getHeight() * 40 + 100;

        setSize(width, height);
        setVisible(true);

        // eventually I will replace this with an event that fires a prompt
        // basically, allow the user to save their game before quitting
        setDefaultCloseOperation(EXIT_ON_CLOSE);
    }

    /**
     * Gets a MineButton at the specified location
     * @param space  Location of the button
     * @return  the button at the location
     */
    
    public MineButton getButton(Space space) {
        if(!board.isValid(space)) {
            return null;
        }
        return buttons[space.getY()][space.getX()];
    }

    /**
     * Updates all spaces pending update to display their current value
     */
    
    public void updateSpaces() {
        Queue<Space> queue = board.getUpdates();
        while(!queue.isEmpty()) {
            Space space = queue.poll();
            MineButton update = getButton(space);
            if(update != null) {
                update.updatePiece();
            }
        }

        updateMines();
    }

    /**
     * Updates the mines display
     */
    
    public void updateMines() {
        mines.setText(String.format("Mines: %d", board.getRemainingMines()));
    }

    /**
     * Sets the cheat status
     * @param cheat  Whether the user is in cheat mode
     */
    
    private void setCheating(boolean cheat) {
        // and change the button text
        if(cheat) {
            buttonCheat.setText("Cancel cheat");
            isCheating = true;
        }
        // otherwise, run general cheating code
        else {
            updateCheat();
        }
    }

    /**
     * Sets the cheat button to used
     */
    
    public void updateCheat() {
        // if we can cheat, set the label
        if(board.canCheat()) {
            buttonCheat.setText("Cheats: " + board.getCheats());
            buttonCheat.setEnabled(true);
        }
        // otherwise, set the out of cheats label
        else {
            buttonCheat.setText("Out of cheats");
            buttonCheat.setEnabled(false);
        }
        isCheating = false;
    }

    /**
     * Sets the cheat button to used
     */
    
    public void resetButtons() {
        buttonNewGame.setText("New game");

        updateCheat();
        updateSpaces();
    }

    /**
     * Sets the winning text
     * @param victory  Whether the player won
     */
    
    public void gameOver(boolean victory) {
        if(victory) {
            buttonNewGame.setText("You Win!");
        }
        else {
            buttonNewGame.setText("You Lose");
        }
    }

    /**
     * Checks if the cheat button is active
     * @return  true if the cheat button is active
     */
    
    public boolean isCheating() {
        return isCheating;
    }

    /**
     * Called when the 'X' button is pressed on the window
     * @param e  Event the button is called with
     */
    
    public void windowClosing(WindowEvent e) {
        // simply run the menu
        //this.menu();
    }

    /**
     * Handles all single instance buttons
     * @param e  Calling event
     */
    
    @Override
    public void actionPerformed(ActionEvent e) {
        Object button = e.getSource();

        // restart the current game
        if(button == buttonNewGame) {
            // make the board new
            board.newGame();

            // and clear game data
            resetButtons();
            return;
        }

        // restart the current game
        if(button == buttonRestart) {
            // make the board new
            board.restart();

            // and clear game data
            resetButtons();
            return;
        }

        // saves the game
        if(button == buttonSave) {
            String filename = JOptionPane.showInputDialog(this,
                    "Enter filename to save game",
                    "MineSweeper - Save game",
                    JOptionPane.QUESTION_MESSAGE
                    );

            // user canceled
            if(filename == null || filename.equals("")) {
                return;
            }

            // if it exists, prompt to continue
            if(new File(filename + ".bin").exists()) {
                int result = JOptionPane.showConfirmDialog(this,
                        "Save game " + filename + " already exists, overwrite?",
                        "MineSweeper - Save game",
                        JOptionPane.YES_NO_OPTION,
                        JOptionPane.ERROR_MESSAGE
                        );

                if(result != JOptionPane.YES_OPTION) {
                    return;
                }
            }

            board.saveGame(filename);
        }

        // loads the game
        if(button == buttonLoad) {
            String filename = JOptionPane.showInputDialog(this,
                    "Enter filename to load game",
                    "MineSweeper - Load game",
                    JOptionPane.QUESTION_MESSAGE
                    );

            // user canceled
            if(filename == null || filename.equals("")) {
                return;
            }

            // if it exists, prompt to continue
            if(new File(filename + ".bin").exists()) {
                MineSweeperBoard board = MineSweeperBoard.loadGame(filename);
                if(board != null) {
                    MineSweeper.startGame(board);
                }
                // did not load right
                else {
                    JOptionPane.showMessageDialog(this,
                            "Error reading save game " + filename,
                            "MineSweeper - Load game",
                            JOptionPane.ERROR_MESSAGE
                            );
                }
            }
            else {
                // file does not exist
                JOptionPane.showMessageDialog(this,
                        "Saved game " + filename + " does not exist",
                        "MineSweeper - Load game",
                        JOptionPane.ERROR_MESSAGE
                        );
            }
        }

        // cheat button
        if(button == buttonCheat) {
            // no cheating too many times
            if(!board.canCheat()) {
                return;
            }

            // toggle cheating
            setCheating(!isCheating);
            return;
        }

        // cheat button
        if(button == buttonExit) {
            this.dispose();
            return;
        }


        /* Help */

        // rules
        if(button == buttonRules) {
            Help.showRules(this);
        }

        // menus
        if(button == buttonMenu) {
            Help.menuHelp(this);
        }

        // rules
        if(button == buttonDifficulty) {
            Help.difficultyHelp(this);
        }
    }

    /**
     * Returns an ImageIcon, or null if the path was invalid.
     * @author  Larry Vail
     * @param  path  Icon path
     * @param  description  Basic description of the icon
     * @return  Returns the icon at the path, or null if the path is invalid
     */
    
    protected ImageIcon createImageIcon(String path, String description) {
        URL imgURL = getClass().getResource(path);
        if (imgURL != null) {
            return new ImageIcon(imgURL, description);
        } else {
            System.err.println("Couldn't find file: " + path);
            return null;
        }
    }

    /**
     * Common code for difficulty buttons
     */
    
    private class DifficultyButton extends JMenuItem implements ActionListener {
        // data
        private MineSweeper.Difficulty difficulty;

        public DifficultyButton(MineSweeper.Difficulty difficulty) {
            super(difficulty.getLabel());

            this.difficulty = difficulty;
            this.addActionListener(this);
        }

        /**
         * Called when the button is clicked
         */
        
        @Override
        public void actionPerformed(ActionEvent e) {
            MineSweeper.newGame(difficulty);
        }
    }
}
]]></snapshot>
  </Command>
  <Command __id="503" _type="MoveCaretCommand" caretOffset="0" docOffset="0" timestamp="669205" />
  <Command __id="504" _type="MoveCaretCommand" caretOffset="7372" docOffset="8013" timestamp="673112" />
  <Command __id="505" _type="MoveCaretCommand" caretOffset="7073" docOffset="7714" timestamp="680328" />
  <Command __id="506" _type="FileOpenCommand" docASTNodeCount="305" docActiveCodeLength="2693" docExpressionCount="187" docLength="4014" projectName="MineSweeper" timestamp="685265">
    <filePath><![CDATA[C:\Users\Eye-tracking\git\MineSweeper-Experiment\src\logic\MineSweeper.java]]></filePath>
  </Command>
  <Command __id="507" _type="MoveCaretCommand" caretOffset="1901" docOffset="2004" timestamp="685297" />
  <Command __id="508" _type="FileOpenCommand" docASTNodeCount="1297" docActiveCodeLength="11112" docExpressionCount="863" docLength="13984" projectName="MineSweeper" timestamp="694255">
    <filePath><![CDATA[C:\Users\Eye-tracking\git\MineSweeper-Experiment\src\presentation\MineSweeperGui.java]]></filePath>
  </Command>
  <Command __id="509" _type="MoveCaretCommand" caretOffset="7073" docOffset="7714" timestamp="694295" />
  <Command __id="510" _type="MoveCaretCommand" caretOffset="8541" docOffset="9182" timestamp="698841" />
  <Command __id="511" _type="MoveCaretCommand" caretOffset="8754" docOffset="9395" timestamp="707249" />
  <Command __id="512" _type="MoveCaretCommand" caretOffset="7118" docOffset="7759" timestamp="713480" />
  <Command __id="513" _type="MoveCaretCommand" caretOffset="7316" docOffset="7957" timestamp="719288" />
  <Command __id="514" _type="SelectTextCommand" caretOffset="7323" docEnd="7980" docOffset="7964" docStart="7964" end="7339" start="7323" timestamp="723496" />
  <Command __id="515" _type="MoveCaretCommand" caretOffset="7081" docOffset="7722" timestamp="732105" />
  <Command __id="516" _type="MoveCaretCommand" caretOffset="7030" docOffset="7671" timestamp="740377" />
  <DocumentChange __id="517" _type="Insert" docASTNodeCount="1297" docActiveCodeLength="11123" docExpressionCount="863" docLength="13995" length="11" offset="7671" timestamp="741343">
    <text><![CDATA[
        	]]></text>
  </DocumentChange>
  <Command __id="518" _type="InsertStringCommand" timestamp="741350">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="519" _type="Insert" docASTNodeCount="1297" docActiveCodeLength="11134" docExpressionCount="863" docLength="14006" length="11" offset="7682" timestamp="741491">
    <text><![CDATA[
        	]]></text>
  </DocumentChange>
  <Command __id="520" _type="InsertStringCommand" timestamp="741496">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="521" _type="Insert" docASTNodeCount="1304" docActiveCodeLength="11156" docExpressionCount="869" docLength="14028" length="22" offset="7693" repeat="20" timestamp="741691" timestamp2="743988">
    <text><![CDATA[System.out.println("")]]></text>
  </DocumentChange>
  <Command __id="522" _type="InsertStringCommand" repeat="7" timestamp="741694" timestamp2="742342">
    <data><![CDATA[System.]]></data>
  </Command>
  <Command __id="535" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="742344" />
  <Command __id="539" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="742730" />
  <Command __id="541" _type="InsertStringCommand" timestamp="742735">
    <data><![CDATA[.]]></data>
  </Command>
  <Command __id="542" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="true" start_end="START" timestamp="742737" />
  <Command __id="552" _type="AssistCommand" assist_type="CONTENT_ASSIST" auto_activated="false" start_end="END" timestamp="743993" />
  <DocumentChange __id="553" _type="Delete" docASTNodeCount="1303" docActiveCodeLength="11154" docExpressionCount="868" docLength="14026" endLine="267" length="2" offset="7712" repeat="2" startLine="267" timestamp="744418" timestamp2="744423">
    <text><![CDATA[""]]></text>
  </DocumentChange>
  <Command __id="555" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="744425" />
  <DocumentChange __id="556" _type="Insert" docASTNodeCount="1304" docActiveCodeLength="11159" docExpressionCount="869" docLength="14031" length="5" offset="7712" repeat="4" timestamp="746317" timestamp2="746718">
    <text><![CDATA["uih"]]></text>
  </DocumentChange>
  <Command __id="557" _type="InsertStringCommand" repeat="4" timestamp="746319" timestamp2="746719">
    <data><![CDATA["uih]]></data>
  </Command>
  <DocumentChange __id="564" _type="Delete" docASTNodeCount="1304" docActiveCodeLength="11157" docExpressionCount="869" docLength="14029" endLine="267" length="2" offset="7714" repeat="2" startLine="267" timestamp="746906" timestamp2="747067">
    <text><![CDATA[ih]]></text>
  </DocumentChange>
  <Command __id="565" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="2" timestamp="746908" timestamp2="747068" />
  <DocumentChange __id="568" _type="Insert" docASTNodeCount="1304" docActiveCodeLength="11161" docExpressionCount="869" docLength="14033" length="4" offset="7714" repeat="4" timestamp="747261" timestamp2="747503">
    <text><![CDATA[h oh]]></text>
  </DocumentChange>
  <Command __id="569" _type="InsertStringCommand" repeat="4" timestamp="747262" timestamp2="747504">
    <data><![CDATA[h oh]]></data>
  </Command>
  <Command __id="576" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_NEXT" repeat="2" timestamp="747833" timestamp2="748001" />
  <DocumentChange __id="578" _type="Insert" docASTNodeCount="1263" docActiveCodeLength="11164" docExpressionCount="837" docLength="14036" length="3" offset="7720" repeat="2" timestamp="748629" timestamp2="748958">
    <text><![CDATA['\']]></text>
  </DocumentChange>
  <Command __id="579" _type="InsertStringCommand" repeat="2" timestamp="748631" timestamp2="748959">
    <data><![CDATA['\]]></data>
  </Command>
  <DocumentChange __id="582" _type="Delete" docASTNodeCount="1263" docActiveCodeLength="11163" docExpressionCount="837" docLength="14035" endLine="267" length="1" offset="7721" startLine="267" timestamp="748961">
    <text><![CDATA[\]]></text>
  </DocumentChange>
  <Command __id="583" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="748963" />
  <DocumentChange __id="584" _type="Insert" docASTNodeCount="1304" docActiveCodeLength="11164" docExpressionCount="870" docLength="14036" length="1" offset="7721" timestamp="749094">
    <text><![CDATA[;]]></text>
  </DocumentChange>
  <Command __id="585" _type="InsertStringCommand" timestamp="749095">
    <data><![CDATA[;]]></data>
  </Command>
  <DocumentChange __id="586" _type="Delete" docASTNodeCount="1263" docActiveCodeLength="11162" docExpressionCount="837" docLength="14034" endLine="267" length="2" offset="7720" repeat="2" startLine="267" timestamp="749346" timestamp2="749480">
    <text><![CDATA[';]]></text>
  </DocumentChange>
  <Command __id="587" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="2" timestamp="749347" timestamp2="749482" />
  <DocumentChange __id="590" _type="Insert" docASTNodeCount="1263" docActiveCodeLength="11163" docExpressionCount="837" docLength="14035" length="1" offset="7720" timestamp="749705">
    <text><![CDATA[;]]></text>
  </DocumentChange>
  <Command __id="591" _type="InsertStringCommand" timestamp="749709">
    <data><![CDATA[;]]></data>
  </Command>
  <Command __id="592" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_NEXT" timestamp="750369" />
  <DocumentChange __id="593" _type="Delete" docASTNodeCount="1304" docActiveCodeLength="11162" docExpressionCount="869" docLength="14034" endLine="267" length="1" offset="7721" startLine="267" timestamp="750571">
    <text><![CDATA[']]></text>
  </DocumentChange>
  <Command __id="594" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="750573" />
  <Command __id="595" _type="MoveCaretCommand" caretOffset="7030" docOffset="7671" timestamp="751440" />
  <Command __id="596" _type="MoveCaretCommand" caretOffset="7041" docOffset="7682" timestamp="751760" />
  <DocumentChange __id="597" _type="Insert" docASTNodeCount="1304" docActiveCodeLength="11165" docExpressionCount="869" docLength="14037" length="3" offset="7682" repeat="3" timestamp="753602" timestamp2="755218">
    <text><![CDATA[if ]]></text>
  </DocumentChange>
  <Command __id="598" _type="InsertStringCommand" repeat="3" timestamp="753605" timestamp2="755221">
    <data><![CDATA[if ]]></data>
  </Command>
  <DocumentChange __id="603" _type="Delete" docASTNodeCount="1304" docActiveCodeLength="11164" docExpressionCount="869" docLength="14036" endLine="266" length="1" offset="7684" startLine="266" timestamp="755658">
    <text><![CDATA[ ]]></text>
  </DocumentChange>
  <Command __id="604" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="755661" />
  <DocumentChange __id="605" _type="Insert" docASTNodeCount="1304" docActiveCodeLength="11168" docExpressionCount="869" docLength="14040" length="4" offset="7684" repeat="4" timestamp="755985" timestamp2="756460">
    <text><![CDATA[ but]]></text>
  </DocumentChange>
  <Command __id="606" _type="InsertStringCommand" repeat="4" timestamp="755991" timestamp2="756462">
    <data><![CDATA[ but]]></data>
  </Command>
  <DocumentChange __id="613" _type="Delete" docASTNodeCount="1304" docActiveCodeLength="11165" docExpressionCount="869" docLength="14037" endLine="266" length="3" offset="7685" repeat="3" startLine="266" timestamp="756794" timestamp2="757054">
    <text><![CDATA[but]]></text>
  </DocumentChange>
  <Command __id="614" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="3" timestamp="756796" timestamp2="757055" />
  <DocumentChange __id="619" _type="Insert" docASTNodeCount="1308" docActiveCodeLength="11186" docExpressionCount="872" docLength="14058" length="21" offset="7685" repeat="20" timestamp="757253" timestamp2="759284">
    <text><![CDATA[(buttonCheat == null)]]></text>
  </DocumentChange>
  <Command __id="620" _type="InsertStringCommand" repeat="20" timestamp="757256" timestamp2="759285">
    <data><![CDATA[(buttonCheat == null]]></data>
  </Command>
  <Command __id="659" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_NEXT" timestamp="759697" />
  <DocumentChange __id="660" _type="Insert" docASTNodeCount="1308" docActiveCodeLength="11198" docExpressionCount="872" docLength="14070" length="12" offset="7706" timestamp="760011">
    <text><![CDATA[
        		]]></text>
  </DocumentChange>
  <Command __id="661" _type="InsertStringCommand" timestamp="760020">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="662" _type="Insert" docASTNodeCount="1308" docActiveCodeLength="11199" docExpressionCount="872" docLength="14071" length="1" offset="7718" timestamp="760244">
    <text><![CDATA[	]]></text>
  </DocumentChange>
  <Command __id="663" _type="InsertStringCommand" timestamp="760245">
    <data><![CDATA[	]]></data>
  </Command>
  <DocumentChange __id="664" _type="Delete" docASTNodeCount="1308" docActiveCodeLength="11198" docExpressionCount="872" docLength="14070" endLine="267" length="1" offset="7718" startLine="267" timestamp="760523">
    <text><![CDATA[	]]></text>
  </DocumentChange>
  <Command __id="665" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" timestamp="760524" />
  <Command __id="666" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_NEXT" timestamp="761202" />
  <Command __id="667" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.LINE_DOWN" timestamp="761204" />
  <Command __id="668" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.COLUMN_PREVIOUS" timestamp="761282" />
  <Command __id="669" _type="MoveCaretCommand" caretOffset="7088" docOffset="7729" timestamp="763808" />
  <DocumentChange __id="670" _type="Delete" docASTNodeCount="1308" docActiveCodeLength="11187" docExpressionCount="872" docLength="14059" endLine="268" length="11" offset="7718" repeat="10" startLine="267" timestamp="764270" timestamp2="765811">
    <text><![CDATA[
        	]]></text>
  </DocumentChange>
  <Command __id="671" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="10" timestamp="764272" timestamp2="765815" />
  <Command __id="690" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="766992" />
  <Command __id="691" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="768511" type="Run" />
  <Command __id="692" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="772933" type="Run" />
  <Command __id="693" _type="MoveCaretCommand" caretOffset="7094" docOffset="7735" timestamp="773425" />
  <Command __id="694" _type="MoveCaretCommand" caretOffset="7127" docOffset="7768" timestamp="774929" />
  <Command __id="695" _type="SelectTextCommand" caretOffset="3803" docEnd="4444" docOffset="4444" docStart="4424" end="3803" start="3783" timestamp="799657" />
  <DocumentChange __id="696" _type="Replace" docASTNodeCount="1306" docActiveCodeLength="11168" docExpressionCount="870" docLength="14040" endLine="154" insertionLength="1" int_docASTNodeCount="1304" int_docActiveCodeLength="11167" int_docExpressionCount="869" int_docLength="14039" length="20" offset="4424" startLine="154" timestamp="799868">
    <deletedText><![CDATA[if(board.canCheat())]]></deletedText>
    <insertedText><![CDATA[F]]></insertedText>
  </DocumentChange>
  <Command __id="697" _type="InsertStringCommand" timestamp="799873">
    <data><![CDATA[F]]></data>
  </Command>
  <DocumentChange __id="698" _type="Replace" docASTNodeCount="1308" docActiveCodeLength="11187" docExpressionCount="872" docLength="14059" endLine="154" insertionLength="20" int_docASTNodeCount="1304" int_docActiveCodeLength="11167" int_docExpressionCount="869" int_docLength="14039" length="1" offset="4424" startLine="154" timestamp="800986">
    <deletedText><![CDATA[F]]></deletedText>
    <insertedText><![CDATA[if(board.canCheat())]]></insertedText>
  </DocumentChange>
  <Command __id="699" _type="UndoCommand" timestamp="800993" />
  <Command __id="700" _type="CopyCommand" timestamp="802443" />
  <Command __id="701" _type="SelectTextCommand" caretOffset="7105" docEnd="7746" docOffset="7746" docStart="7682" end="7105" start="7041" timestamp="813320" />
  <DocumentChange __id="702" _type="Replace" docASTNodeCount="1302" docActiveCodeLength="11145" docExpressionCount="866" docLength="14017" endLine="267" insertionLength="20" int_docASTNodeCount="1297" int_docActiveCodeLength="11125" int_docExpressionCount="863" int_docLength="13997" length="62" offset="7684" repeat="2" startLine="266" timestamp="813679" timestamp2="815199">
    <deletedText><![CDATA[ (buttonCheat == null)
        		System.out.println("uh oh");]]></deletedText>
    <insertedText><![CDATA[(board.canCheat()) {]]></insertedText>
  </DocumentChange>
  <Command __id="703" _type="PasteCommand" timestamp="813687" />
  <Command __id="705" _type="InsertStringCommand" timestamp="815202">
    <data><![CDATA[{]]></data>
  </Command>
  <Command __id="706" _type="MoveCaretCommand" caretOffset="7158" docOffset="7799" timestamp="816992" />
  <DocumentChange __id="707" _type="Insert" docASTNodeCount="1302" docActiveCodeLength="11159" docExpressionCount="866" docLength="14031" length="14" offset="7799" timestamp="817507">
    <text><![CDATA[
            ]]></text>
  </DocumentChange>
  <Command __id="708" _type="InsertStringCommand" timestamp="817512">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="709" _type="Replace" docASTNodeCount="1302" docActiveCodeLength="11157" docExpressionCount="866" docLength="14029" endLine="269" insertionLength="2" int_docASTNodeCount="1302" int_docActiveCodeLength="11155" int_docExpressionCount="866" int_docLength="14027" length="4" offset="7809" startLine="269" timestamp="818716">
    <deletedText><![CDATA[    ]]></deletedText>
    <insertedText><![CDATA[	}]]></insertedText>
  </DocumentChange>
  <Command __id="710" _type="InsertStringCommand" timestamp="818719">
    <data><![CDATA[}]]></data>
  </Command>
  <DocumentChange __id="711" _type="Replace" docASTNodeCount="1302" docActiveCodeLength="11159" docExpressionCount="866" docLength="14031" endLine="269" insertionLength="4" int_docASTNodeCount="1302" int_docActiveCodeLength="11155" int_docExpressionCount="866" int_docLength="14027" length="2" offset="7809" startLine="269" timestamp="822371">
    <deletedText><![CDATA[	}]]></deletedText>
    <insertedText><![CDATA[    ]]></insertedText>
  </DocumentChange>
  <Command __id="712" _type="UndoCommand" repeat="4" timestamp="822375" timestamp2="824453" />
  <DocumentChange __id="713" _type="Delete" docASTNodeCount="1302" docActiveCodeLength="11145" docExpressionCount="866" docLength="14017" endLine="269" length="14" offset="7799" startLine="268" timestamp="822665">
    <text><![CDATA[
            ]]></text>
  </DocumentChange>
  <DocumentChange __id="715" _type="Delete" docASTNodeCount="1297" docActiveCodeLength="11125" docExpressionCount="863" docLength="13997" endLine="266" length="20" offset="7684" repeat="2" startLine="266" timestamp="823176" timestamp2="824442">
    <text><![CDATA[(board.canCheat()) {]]></text>
  </DocumentChange>
  <DocumentChange __id="718" _type="Insert" docASTNodeCount="1301" docActiveCodeLength="11143" docExpressionCount="866" docLength="14015" length="62" offset="7684" timestamp="824444">
    <text><![CDATA[ (buttonCheat == null)
        		System.out.println("uh oh");]]></text>
  </DocumentChange>
  <DocumentChange __id="720" _type="Replace" docASTNodeCount="1302" docActiveCodeLength="11145" docExpressionCount="866" docLength="14017" endLine="267" insertionLength="20" int_docASTNodeCount="1297" int_docActiveCodeLength="11125" int_docExpressionCount="863" int_docLength="13997" length="62" offset="7684" repeat="3" startLine="266" timestamp="827613" timestamp2="828699">
    <deletedText><![CDATA[ (buttonCheat == null)
        		System.out.println("uh oh");]]></deletedText>
    <insertedText><![CDATA[(board.canCheat()) {]]></insertedText>
  </DocumentChange>
  <Command __id="721" _type="PasteCommand" timestamp="827621" />
  <Command __id="723" _type="InsertStringCommand" repeat="2" timestamp="828312" timestamp2="828702">
    <data><![CDATA[ {]]></data>
  </Command>
  <Command __id="726" _type="MoveCaretCommand" caretOffset="7158" docOffset="7799" timestamp="829872" />
  <DocumentChange __id="727" _type="Insert" docASTNodeCount="1302" docActiveCodeLength="11159" docExpressionCount="866" docLength="14031" length="14" offset="7799" timestamp="830516">
    <text><![CDATA[
            ]]></text>
  </DocumentChange>
  <Command __id="728" _type="InsertStringCommand" timestamp="830521">
    <data><![CDATA[]]></data>
  </Command>
  <DocumentChange __id="729" _type="Replace" docASTNodeCount="1302" docActiveCodeLength="11157" docExpressionCount="866" docLength="14029" endLine="269" insertionLength="2" int_docASTNodeCount="1302" int_docActiveCodeLength="11155" int_docExpressionCount="866" int_docLength="14027" length="4" offset="7809" startLine="269" timestamp="831109">
    <deletedText><![CDATA[    ]]></deletedText>
    <insertedText><![CDATA[	}]]></insertedText>
  </DocumentChange>
  <Command __id="730" _type="InsertStringCommand" timestamp="831113">
    <data><![CDATA[}]]></data>
  </Command>
  <Command __id="731" _type="SelectTextCommand" caretOffset="7129" docEnd="7770" docOffset="7770" docStart="7717" end="7129" start="7076" timestamp="833448" />
  <DocumentChange __id="732" _type="Insert" docASTNodeCount="1302" docActiveCodeLength="11158" docExpressionCount="866" docLength="14030" length="1" offset="7706" timestamp="833564">
    <text><![CDATA[	]]></text>
  </DocumentChange>
  <DocumentChange __id="733" _type="Insert" docASTNodeCount="1302" docActiveCodeLength="11159" docExpressionCount="866" docLength="14031" length="1" offset="7758" timestamp="833565">
    <text><![CDATA[	]]></text>
  </DocumentChange>
  <Command __id="734" _type="InsertStringCommand" timestamp="833575">
    <data><![CDATA[	]]></data>
  </Command>
  <Command __id="735" _type="MoveCaretCommand" caretOffset="7183" docOffset="7824" timestamp="833817" />
  <Command __id="736" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="834289" />
  <Command __id="737" _type="FileOpenCommand" docASTNodeCount="305" docActiveCodeLength="2693" docExpressionCount="187" docLength="4014" projectName="MineSweeper" timestamp="834824">
    <filePath><![CDATA[C:\Users\Eye-tracking\git\MineSweeper-Experiment\src\logic\MineSweeper.java]]></filePath>
  </Command>
  <Command __id="738" _type="MoveCaretCommand" caretOffset="1901" docOffset="2004" timestamp="834857" />
  <Command __id="739" _type="SelectTextCommand" caretOffset="1777" docEnd="2050" docOffset="1880" docStart="1880" end="1947" start="1777" timestamp="845441" />
  <DocumentChange __id="740" _type="Delete" docASTNodeCount="281" docActiveCodeLength="2521" docExpressionCount="168" docLength="3842" endLine="74" length="172" offset="1878" repeat="2" startLine="68" timestamp="845530" timestamp2="845837">
    <text><![CDATA[
        if (board == null){
        	System.out.println("Null Board");
        	board = customGame();
        }
        
        System.out.println("Starting game");]]></text>
  </DocumentChange>
  <Command __id="741" _type="EclipseCommand" commandID="eventLogger.styledTextCommand.DELETE_PREVIOUS" repeat="2" timestamp="845536" timestamp2="845842" />
  <Command __id="744" _type="EclipseCommand" commandID="org.eclipse.ui.file.save" timestamp="846823" />
  <Command __id="745" _type="RunCommand" kind="Create" projectName="MineSweeper" timestamp="850610" type="Run" />
  <Command __id="746" _type="RunCommand" exitValue="0" kind="Terminate" projectName="MineSweeper" timestamp="858379" type="Run" />
  <Command __id="747" _type="SelectTextCommand" caretOffset="1031" docEnd="1143" docOffset="1134" docStart="1134" end="1040" start="1031" timestamp="910491" />
  <DocumentChange __id="748" _type="Delete" docASTNodeCount="1" docActiveCodeLength="16" docExpressionCount="0" docLength="16" endLine="150" length="3826" offset="16" startLine="0" timestamp="910733">
    <text><![CDATA[1
When you start the MineSweeper program, if you click on the New Game button, it will crash.
*/

package logic;
import javax.swing.JOptionPane;
import javax.swing.UIManager;

import presentation.CustomMenu;
import presentation.MineSweeperGui;

/**
 * Main launcher class for MineSweeper, containing all the menus and general
 * prompts
 *
 * @author  KnightMiner
 */

public class MineSweeper {
    // currently running instance of the game
    private static MineSweeperGui gui;

    /**
     * Primary way to boot the game
     * @param args  Default args (unused)
     */
    
    public static void main(String[] args) {
        // High DPI stuff
        try {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
        }
        catch(Exception e) {
        	System.out.println("Checking test");
            e.printStackTrace();
        }

        // load the help panels
        // this has a side effect of loading the icons for the pieces
        Help.load();

        // start the game on easy
        newGame(Difficulty.EASY);
    }

    /**
     * Creates a new MineSweeper game with one of three default sizes or custom
     * @param difficulty Game difficulty
     */
    
    public static void newGame(Difficulty difficulty) {
        // difficulty switch
        MineSweeperBoard board = null;
        switch(difficulty) {
            case EASY:
                board = new MineSweeperBoard(9, 9, 10, 0);
                break;
            case NORMAL:
                board = new MineSweeperBoard(16, 16, 40, 1);
                break;
            case HARD:
                board = new MineSweeperBoard(30, 16, 99, 3);
                break;
            case CUSTOM:
                board = customGame();
                break;
        }
        
        startGame(board);
    }

    /**
     * Creates a new game with the custom size
     * @return  A board of the custom size
     */
    
    public static MineSweeperBoard customGame() {
        CustomMenu menu = new CustomMenu();

        int result = JOptionPane.showConfirmDialog(null, menu,
                "Custom", JOptionPane.OK_CANCEL_OPTION,
                JOptionPane.PLAIN_MESSAGE);

        // if they pressed OK
        if(result == JOptionPane.OK_OPTION) {
            return menu.createBoard();
        }
        else {
        	System.out.println("ERROR");
            return null; //Possible bug
        }
    }

    /**
     * Starts a new game with the specified board
     * @param board  Game board to start
     */
    
    public static void startGame(MineSweeperBoard board) {
        // must be a valid board
        if(board != null) {
            // remove the current gui and define the new one
            if(gui != null) {
                gui.dispose();
            }

            // create a new instance
            gui = new MineSweeperGui(board);
        }
        
        gui = new MineSweeperGui(board);
    }

    /**
     * List of buttons for the GUI
     */
    
    public enum Difficulty {
        /** Easy game */
        EASY("Easy"),
        /** Normal game */
        NORMAL("Normal"),
        /** Hard game */
        HARD("Expert"),
        /** Custom size and mines from the GUI */
        CUSTOM("Custom");

        // data
        private String label;

        /**
         * Default constructor
         * @param  Button label
         */
        
        Difficulty(String label) {
            this.label = label;
        }

        /**
         * Gets the label for the difficulty
         * @return  Difficulty name
         */
        
        public String getLabel() {
            return label;
        }
    }
}
]]></text>
  </DocumentChange>
  <DocumentChange __id="749" _type="Insert" docASTNodeCount="281" docActiveCodeLength="2521" docExpressionCount="168" docLength="3842" length="3845" offset="16" timestamp="910735">
    <text><![CDATA[2
MineSweeper has 3 difficulty levels. The size of the board and the number of the mines are different for each level. 
Sometimes, we end up having a smaller number of mines in the game. 
For an easy game, we want to have 10 mines, but sometimes it is 9, 8, or even less.
*/

package logic;
import javax.swing.JOptionPane;
import javax.swing.UIManager;

import presentation.CustomMenu;
import presentation.MineSweeperGui;

/**
 * Main launcher class for MineSweeper, containing all the menus and general
 * prompts
 *
 * @author  KnightMiner
 */

public class MineSweeper {
    // currently running instance of the game
    private static MineSweeperGui gui;

    /**
     * Primary way to boot the game
     * @param args  Default args (unused)
     */
    
    public static void main(String[] args) {
        // High DPI stuff
        try {
            UIManager.setLookAndFeel(UIManager.getSystemLookAndFeelClassName());
        }
        catch(Exception e) {
            e.printStackTrace();
        }

        // load the help panels
        // this has a side effect of loading the icons for the pieces
        Help.load();

        // start the game on easy
        newGame(Difficulty.EASY);
    }

    /**
     * Creates a new MineSweeper game with one of three default sizes or custom
     * @param difficulty Game difficulty
     */
    
    public static void newGame(Difficulty difficulty) {
        // difficulty switch
        MineSweeperBoard board = null;
        switch(difficulty) {
            case EASY:
                board = new MineSweeperBoard(9, 9, 10, 0);
                break;
            case NORMAL:
                board = new MineSweeperBoard(16, 16, 40, 1);
                break;
            case HARD:
                board = new MineSweeperBoard(30, 16, 99, 3);
                break;
            case CUSTOM:
                board = customGame();
                break;
        }

        startGame(board);
    }

    /**
     * Creates a new game with the custom size
     * @return  A board of the custom size
     */
    
    public static MineSweeperBoard customGame() {
        CustomMenu menu = new CustomMenu();

        int result = JOptionPane.showConfirmDialog(null, menu,
                "Custom", JOptionPane.OK_CANCEL_OPTION,
                JOptionPane.PLAIN_MESSAGE);

        // if they pressed OK
        if(result == JOptionPane.OK_OPTION) {
            return menu.createBoard();
        }
        else {
            return null;
        }
    }

    /**
     * Starts a new game with the specified board
     * @param board  Game board to start
     */
    
    public static void startGame(MineSweeperBoard board) {
        // must be a valid board
        if(board != null) {
            // remove the current gui and define the new one
            if(gui != null) {
                gui.dispose();
            }

            // create a new instance
            gui = new MineSweeperGui(board);
        }
    }

    /**
     * List of buttons for the GUI
     */
    
    public enum Difficulty {
        /** Easy game */
        EASY("Easy"),
        /** Normal game */
        NORMAL("Normal"),
        /** Hard game */
        HARD("Expert"),
        /** Custom size and mines from the GUI */
        CUSTOM("Custom");

        // data
        private String label;

        /**
         * Default constructor
         * @param  Button label
         */
        
        Difficulty(String label) {
            this.label = label;
        }

        /**
         * Gets the label for the difficulty
         * @return  Difficulty name
         */
        
        public String getLabel() {
            return label;
        }
    }
}
]]></text>
  </DocumentChange>
  <Command __id="750" _type="ShellBoundsCommand" bounds="[-8, -8, 1936, 1056]" timestamp="916163" />
</Events>
